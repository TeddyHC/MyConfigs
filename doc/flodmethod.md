鉴于很多同学喜欢折叠代码，特此说明一下。

由于某些历史原因，在我们的project中，in.vim文件里配置了set foldmethod=marker，所以默认启用的是标志折叠。
标志折叠需要用注释标记来标识代码的折叠，系统默认产生的折叠注释标记为/{{{/和/}}}/。
这种标志只有在vim下采用标志折叠，并且还不能更换系统默认折叠标记时才能被识别并且有效。
标志折叠是一种对源代码有染的折叠方式，不利于阅读和流通，所以最好不要使用。
鉴于我们的php代码内容和编码风格，建议采用indent（缩进）折叠。

－－－－－－－－－－－－－－－－－正文分割线－－－－－－－－－－－－－－－－－－

vim中有6种折叠方法：
1. manual 手工定义折叠
2. indent 更多的缩进表示更高级别的折叠，可以按照语法层级折叠
3. expr 用表达式来定义折叠
4. syntax 用语法高亮来定义折叠，启用语法折叠，所有文本将按照语法结构自动折叠。
5. diff 对没有更改的文本进行折叠
6. marker 对文中的标志折叠

注意，每一种折叠方式互相不兼容，不能既用expr又用syntax方式，采用了indent折叠，vim就识别不了marker的标记。

其实marker折叠的功能还是比较强大的，除了我们经常使用的在括号处zf%，创建从当前括号行起到对应的匹配的括号上“{}，[]，()”，还有一些：
zf9G，创建从当前行起到9行的代码折叠。
9zf+或zf9↓，创建从当前行起到后9行的代码折叠。
9zf-或zf9↑，创建从当前行起到之前9行的代码折叠。
不过这会在代码中的折叠位置产生一串额外的注释标记符号，让代码看起来很诡异，幸好还没有同学这么玩……囧囧囧

这儿比较特别的是手动折叠，拿出来玩一下～
使用set foldmethod=manual命令，启用手工折叠。
在可视化模式下，使用zf，将折叠选中的文本。
通过组合使用移动命令，可以折叠指定的行。例如：使用zf7j命令，将折叠光标之后的7行，使用9zF命令，将当前行及随后8行折叠起来。
我们也可以使用zfa(命令，折叠括号()、[]、{}等包围的区域。
Vim并不会自动记忆手工折叠。但你可以使用:mkview，来保存当前的折叠状态，在下次打开文档时，使用:loadview命令，来载入记忆的折叠信息。

Vim将折叠等同于行来对待——你可以使用j，k移动，直接跳过包含多行的整个折叠；也可以使用y或d命令，复制或删除某个折叠的全部内容。
通常在折叠处向右移动光标，或者进入插入模式，都将会自动打开折叠。
使用时，可以在命令模式中输入set fdm=marker 来设置折叠方式。
要使每次打开vim时折叠都生效，可以在vimrc文件中添加设置。

跟折叠有关的vimrc设置主要有以下几个：
set foldenable "启用折叠
set foldmethod=indent "或者简写set fdm=syntax（fdm是foldmethod的缩写）
set foldlevel=1 "启动vim时默认打开折叠的层数
set foldcolumn=5 " 设置折叠栏宽度，（W是一个0-12的整数），将在屏幕左侧显示一个折叠标识列，分别用“-”和“+”而表示打开和关闭的折叠，设为0变成自适应

ps：如果你每次打开文件不想折叠，可以把foldlevel赋值一个大数，不过我们的项目目录文件也会每次打开那么一万多行，很是头疼，不建议使用。

当然你可以随时使用:help folding命令，查阅关于折叠的帮助信息。

最后是一些命令的总结：
zc/zo，关闭/打开当前的折叠
zC/zO，关闭/打开当前的（包括嵌套）折叠
zk/zj，移动至上一个/下一个折叠
zN/zn，启用/禁用折叠
zr/zm， 打开/关闭所有折叠
zR/zM，打开/关闭所有（包括嵌套）折叠
[z / ]z，到当前打开的折叠的开始/末尾处
zd/zD，删除当前折叠/嵌套删除当前折叠（仅当 ‘foldmethod’ 设为 “manual” 或 “marker” 时有效）
zE 删除当前文件所有折叠（仅当 ‘foldmethod’ 设为 “manual” 或 “marker” 时有效）

希望对大家使用vim的折叠有所帮助，也建议大家在我们的项目中不要使用标记折叠～
